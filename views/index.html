{{ block "index" . }}
<!doctype html>
<html lang="en">
  <head>
    <title>Htmx and Go</title>
    <script src="https://unpkg.com/htmx.org/dist/htmx.min.js"></script>
  </head>

  <body style="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; display: flex; flex-direction: column; align-items: center; justify-items: center; padding-top: 10dvh;">
      {{ template "form" . }}
      {{ template "contacts-list" . }}
  </body>
</html>
{{ end }}

{{ block "form" . }}
  <form 
     style="display: flex; flex-direction: column; gap: 8px; align-items: start; margin-bottom: 24px;" 
     hx-post="/contacts" 
     hx-target="#contacts-list"
  >
    <div>
      <label for="email">Email</label>
      <input name="email" />
    </div>

    <div>
      <label for="name">Name</label>  
      <input name="name" />
    </div>

    <button>Submit</button>
  </form>
{{ end }}

{{ block "contacts-list" . }}
  <div style="width: 300px; display: flex; flex-direction: column; gap: 8px; font-size: 12px;" id="contacts-list">
    <span style="font-weight: bold;">Contacts</span> 

    {{ range .Contacts }}
      <div>
        Name: {{ .Name }} 
        <br />
        Email: {{ .Email }}
      </div> 
    {{ end }}
  </div>
{{ end }}
